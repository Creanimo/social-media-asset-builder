{
  "version": 3,
  "sources": ["../../src/exports/extensions/image.ts"],
  "sourcesContent": ["import { Node, mergeAttributes } from \"@tiptap/core\";\nimport { findAttribute } from \"./find-attribute.js\";\n\nexport interface ImageOptions {\n  HTMLAttributes: Record<string, any>;\n}\n\nexport const Image = Node.create({\n  name: \"attachment-image\",\n  selectable: false,\n  draggable: false,\n  group: \"block\",\n\n  addOptions() {\n    return {\n      HTMLAttributes: {},\n    };\n  },\n\n  addAttributes() {\n    return {\n      src: {\n        default: \"\",\n        parseHTML: (element) => findAttribute(element, \"url\"),\n      },\n      height: {\n        default: \"\",\n        parseHTML: (element) => findAttribute(element, \"height\"),\n      },\n      width: {\n        default: \"\",\n        parseHTML: (element) => findAttribute(element, \"width\"),\n      },\n      attachmentId: {\n        default: null,\n      },\n    };\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: \"figure[data-trix-attachment] img[src]\",\n      },\n    ];\n  },\n\n  renderHTML({ HTMLAttributes }) {\n    return [\n      \"img\",\n      mergeAttributes(this.options.HTMLAttributes, HTMLAttributes),\n    ];\n  },\n});\n"],
  "mappings": ";;;;;AAAA,SAAS,MAAM,uBAAuB;AAO/B,IAAM,QAAQ,KAAK,OAAO;AAAA,EAC/B,MAAM;AAAA,EACN,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,OAAO;AAAA,EAEP,aAAa;AACX,WAAO;AAAA,MACL,gBAAgB,CAAC;AAAA,IACnB;AAAA,EACF;AAAA,EAEA,gBAAgB;AACd,WAAO;AAAA,MACL,KAAK;AAAA,QACH,SAAS;AAAA,QACT,WAAW,CAAC,YAAY,cAAc,SAAS,KAAK;AAAA,MACtD;AAAA,MACA,QAAQ;AAAA,QACN,SAAS;AAAA,QACT,WAAW,CAAC,YAAY,cAAc,SAAS,QAAQ;AAAA,MACzD;AAAA,MACA,OAAO;AAAA,QACL,SAAS;AAAA,QACT,WAAW,CAAC,YAAY,cAAc,SAAS,OAAO;AAAA,MACxD;AAAA,MACA,cAAc;AAAA,QACZ,SAAS;AAAA,MACX;AAAA,IACF;AAAA,EACF;AAAA,EAEA,YAAY;AACV,WAAO;AAAA,MACL;AAAA,QACE,KAAK;AAAA,MACP;AAAA,IACF;AAAA,EACF;AAAA,EAEA,WAAW,EAAE,eAAe,GAAG;AAC7B,WAAO;AAAA,MACL;AAAA,MACA,gBAAgB,KAAK,QAAQ,gBAAgB,cAAc;AAAA,IAC7D;AAAA,EACF;AACF,CAAC;",
  "names": []
}
